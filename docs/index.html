---

title: Integrators


keywords: fastai
sidebar: home_sidebar

summary: "Integrators integrate your information in your Pod. They import data from external services (Gmail, WhatsApp, etc.), enrich data with indexers (face recognition, spam detection, etc.), and execute actions (sending messages, uploading files, etc.)."
description: "Integrators integrate your information in your Pod. They import data from external services (Gmail, WhatsApp, etc.), enrich data with indexers (face recognition, spam detection, etc.), and execute actions (sending messages, uploading files, etc.)."
nb_path: "nbs/index.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/index.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea output_execute_result">
<table>
<thead><tr>
<th>Integrator</th>
<th>Description</th>
<th>Tests passing</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FaceRecognitionIndexer</code></td>
<td>Recognizes photos from faces.</td>
<td><img src="https://gitlab.memri.io/memri/pyintegrators/-/raw/prod/assets/build-passing.svg" alt="Build passing" title="Build passing"></td>
</tr>
<tr>
<td><code>GeoIndexer</code></td>
<td>Adds Countries and Cities to items with a location.</td>
<td><img src="https://gitlab.memri.io/memri/pyintegrators/-/raw/prod/assets/build-passing.svg" alt="Build passing" title="Build passing"></td>
</tr>
<tr>
<td><code>GmailImporter</code></td>
<td></td>
<td><img src="https://gitlab.memri.io/memri/pyintegrators/-/raw/prod/assets/build-passing.svg" alt="Build passing" title="Build passing"></td>
</tr>
<tr>
<td><code>NotesListIndexer</code></td>
<td>Extracts lists from notes and categorizes them.</td>
<td><img src="https://gitlab.memri.io/memri/pyintegrators/-/raw/prod/assets/build-passing.svg" alt="Build passing" title="Build passing"></td>
</tr>
</tbody>
</table>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Integrators for Memri have a single repository per language, this repository is the one for Python, but others exist for <a href="https://gitlab.memri.io/memri/nodeintegrators">Node.js</a> and <a href="https://gitlab.memri.io/memri/rustintegrators">Rust</a>. This repository makes use of <a href="https://github.com/fastai/nbdev">nbdev</a>, which means all code, documentation and tests are made in Jupyter Notebooks and exported to a Python package, a Jekyll documentation and unit tests.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Using-Docker">Using Docker<a class="anchor-link" href="#Using-Docker"> </a></h2><p>Integrators are invoked by the Pod by launching a Docker container. To build the images for these containers, run:</p>
<div class="highlight"><pre><span></span>docker build -t memri-pyintegrators .
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Local-build">Local build<a class="anchor-link" href="#Local-build"> </a></h2><h3 id="Install">Install<a class="anchor-link" href="#Install"> </a></h3><p>To install the Python package:</p>
<div class="highlight"><pre><span></span>pip install -e .
</pre></div>
<p>If you want to contribute, you have to clean the Jupyter Notebooks every time before you push code to prevent conflicts 
in the Notebooks' metadata. A script to do so can be installed using:</p>
<div class="highlight"><pre><span></span>nbdev_install_git_hooks
</pre></div>
<h3 id="Jupyter-Notebooks">Jupyter Notebooks<a class="anchor-link" href="#Jupyter-Notebooks"> </a></h3><p>The Python integrators are written in nbdev. With nbdev, you write all code in 
<a href="https://jupyter.readthedocs.io/en/latest/install/notebook-classic.html">Jupyter Notebooks</a>, and generate the library, documentation and tests using the nbdev CLI.</p>
<h3 id="nbdev">nbdev<a class="anchor-link" href="#nbdev"> </a></h3><p>With nbdev we create the code in Notebooks, where we speficy the use off cells using special tags. See the <a href="https://nbdev.fast.ai/">nbdev documentation</a> for a all functionalities and tutorials, the most important tags are listed below.</p>
<h4 id="nbdev-tags">nbdev tags<a class="anchor-link" href="#nbdev-tags"> </a></h4><ul>
<li>Notebooks that start their name with an underscore, are ignored by nbdev completely</li>
<li>Add <code>#default_exp &lt;packagename&gt;.&lt;modulename&gt;</code> to the top of your notebook to define the Python module to export to</li>
<li>Add <code>#export</code> to the cells that define functions to include in the Python modules.</li>
<li>All cells withouth the <code>#export</code> tag, are tests by default</li>
<li>All cells are included in the documentation, unless you add the keyword <code>#hide</code></li>
</ul>
<h4 id="nbdev-CLI">nbdev CLI<a class="anchor-link" href="#nbdev-CLI"> </a></h4><p>After developing your code in Notebooks, you can use the nbdev CLI:</p>
<ul>
<li><code>nbdev_build_lib</code> to convert the Notebooks to the library and tests </li>
<li><code>nbdev_test_nbs</code> to run the tests</li>
<li><code>nbdev_build_docs</code> to generate the docs</li>
<li><code>nbdev_clean_nbs</code> to clean the Notebooks' metadata to prevent Git conflicts</li>
</ul>
<h3 id="Contributing">Contributing<a class="anchor-link" href="#Contributing"> </a></h3><p>Before you make a merge request, make sure that you used all the nbdev commands specified above, or GitLab's CI won't pass.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Docs">Docs<a class="anchor-link" href="#Docs"> </a></h2><p>Find the online docs at <a href="https://pyintegrators.docs.memri.io/">pyintegrators.docs.memri.io</a>.</p>
<h3 id="Render-documentation-locally">Render documentation locally<a class="anchor-link" href="#Render-documentation-locally"> </a></h3><p>New documentation will be deployed automatically when a new version is released to the <code>prod</code>  branch. To inspect the documentation beforehand, you can run it local machine by <a href="https://jekyllrb.com/docs/installation/">installing Jekyll</a>.</p>
<p>To build the documentation:</p>
<div class="highlight"><pre><span></span><span class="nb">cd</span> docs
gem update --system 
bundle install
</pre></div>
<p>To serve the documentation:</p>
<div class="highlight"><pre><span></span>bundle <span class="nb">exec</span> jekyll serve
</pre></div>

</div>
</div>
</div>
</div>
 

