---

title: Email importer


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/importers.EmailImporter.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/importers.EmailImporter.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This importers fetches your emails and accounts over IMAP, it uses the python built-in imap client and some convenience functions for easier usage, batching and importing to the pod. This importer requires you to login with your email address and an app password. It is tested on gmail, but should work for other IMAP-servers.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include note.html content='<strong>The recommended usage for Gmail is to enable two-factor authentication. In this case, make sure you allow <a href="https://www.gmass.co/blog/gmail-smtp/">SMTP-connections</a> and set an application password (explained in the same link)</strong>' %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="ImapClient">ImapClient<a class="anchor-link" href="#ImapClient"> </a></h2><p>This importer communicates with email providers over imap. We created a convenience class around pythons imaplib that lets you list your mailboxes, retriev your mails and get their content.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="IMAPClient.list_mailboxes" class="doc_header"><code>IMAPClient.list_mailboxes</code><a href="https://gitlab.memri.io/memri/integrators/tree/master/integrators/importers/email.py#L29" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>IMAPClient.list_mailboxes</code>()</p>
</blockquote>
<p>Lists all available mailboxes</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="IMAPClient.get_all_mail_uids" class="doc_header"><code>IMAPClient.get_all_mail_uids</code><a href="https://gitlab.memri.io/memri/integrators/tree/master/integrators/importers/email.py#L33" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>IMAPClient.get_all_mail_uids</code>()</p>
</blockquote>
<p>retrieves all mail uids from the selected mailbox</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="IMAPClient.get_mail" class="doc_header"><code>IMAPClient.get_mail</code><a href="https://gitlab.memri.io/memri/integrators/tree/master/integrators/importers/email.py#L41" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>IMAPClient.get_mail</code>(<strong><code>uid</code></strong>)</p>
</blockquote>
<p>Fetches a mail given a uid, returns (raw_mail, thread_id)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="EmailImporter">EmailImporter<a class="anchor-link" href="#EmailImporter"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="EmailImporter" class="doc_header"><code>class</code> <code>EmailImporter</code><a href="" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>EmailImporter</code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <a href="/integrators/importers.Importer.html#ImporterBase"><code>ImporterBase</code></a></p>
</blockquote>
<p>Imports emails over imap</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The email importer has the following parameters</p>
<ul>
<li><strong>username</strong> Your email address</li>
<li><strong>password</strong> Your email password. In case you're using gmail, use your application password</li>
<li><em>generic attributes</em></li>
<li><strong>host</strong> The URL of the host (defaults to imap.gmail.com)</li>
<li><strong>port</strong> The port of the server (defaults to 993 for gmail)</li>
<li><strong>max_number</strong> Max number of emails to download. Leave unset for unlimited</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="EmailImporter.get_content" class="doc_header"><code>EmailImporter.get_content</code><a href="__main__.py#L43" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>EmailImporter.get_content</code>(<strong><code>message</code></strong>)</p>
</blockquote>
<p>Extracts content from a python email message</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="EmailImporter.create_item_from_mail" class="doc_header"><code>EmailImporter.create_item_from_mail</code><a href="__main__.py#L66" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>EmailImporter.create_item_from_mail</code>(<strong><code>mail</code></strong>, <strong><code>thread_id</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Creates a schema-item from an existing mail</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="EmailImporter.run" class="doc_header"><code>EmailImporter.run</code><a href="__main__.py#L109" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>EmailImporter.run</code>(<strong><code>importer_run</code></strong>, <strong><code>pod_client</code></strong>=<em><code>None</code></em>, <strong><code>verbose</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>This is the main function of the Email importer. It runs the importer given information
provided in the importer run. if you pass a pod client it will add the new items to the graph.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Usage">Usage<a class="anchor-link" href="#Usage"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Download-all-mails-from-your-account">Download all mails from your account<a class="anchor-link" href="#Download-all-mails-from-your-account"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># This cell is meant to be able to test the importer locally</span>
<span class="k">def</span> <span class="nf">get_gmail_creds</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">read_file</span><span class="p">(</span><span class="n">HOME_DIR</span> <span class="o">/</span> <span class="s1">&#39;.memri&#39;</span> <span class="o">/</span> <span class="s1">&#39;credentials_gmail.txt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)[:</span><span class="mi">2</span><span class="p">]</span>

<span class="n">imap_user</span><span class="p">,</span> <span class="n">imap_pw</span> <span class="o">=</span> <span class="n">get_gmail_creds</span><span class="p">()</span>
<span class="n">pod_client</span> <span class="o">=</span> <span class="n">PodClient</span><span class="p">()</span>
<span class="n">pod_client</span><span class="o">.</span><span class="n">delete_all</span><span class="p">()</span>
<span class="n">importer</span> <span class="o">=</span> <span class="n">EmailImporter</span><span class="o">.</span><span class="n">from_data</span><span class="p">()</span>

<span class="n">importer_run</span> <span class="o">=</span> <span class="n">ImporterRun</span><span class="o">.</span><span class="n">from_data</span><span class="p">(</span><span class="n">progress</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="n">imap_user</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">imap_pw</span><span class="p">)</span>
<span class="n">importer_run</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;genericAttribute&#39;</span><span class="p">,</span> <span class="n">GenericAttribute</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;host&#39;</span><span class="p">,</span> <span class="n">stringValue</span><span class="o">=</span><span class="n">DEFAULT_GMAIL_HOST</span><span class="p">))</span>
<span class="n">importer_run</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;genericAttribute&#39;</span><span class="p">,</span> <span class="n">GenericAttribute</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;port&#39;</span><span class="p">,</span> <span class="n">intValue</span><span class="o">=</span><span class="mi">993</span><span class="p">))</span>
<span class="n">importer_run</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;genericAttribute&#39;</span><span class="p">,</span> <span class="n">GenericAttribute</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;max_number&#39;</span><span class="p">,</span> <span class="n">intValue</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>
<span class="n">importer_run</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="s1">&#39;importer&#39;</span><span class="p">,</span> <span class="n">importer</span><span class="p">)</span>
<span class="n">pod_client</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">importer_run</span><span class="p">)</span>

<span class="n">importer</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">importer_run</span><span class="o">=</span><span class="n">importer_run</span><span class="p">,</span> <span class="n">pod_client</span><span class="o">=</span><span class="n">pod_client</span><span class="p">)</span>

<span class="k">assert</span> <span class="n">importer_run</span><span class="o">.</span><span class="n">progress</span> <span class="o">==</span> <span class="mi">100</span>
<span class="k">assert</span> <span class="n">importer_run</span><span class="o">.</span><span class="n">runStatus</span> <span class="o">==</span> <span class="s2">&quot;done&quot;</span>
<span class="n">pod_client</span><span class="o">.</span><span class="n">delete_all</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Using, HOST: imap.gmail.com, PORT: 993
RUN STATUS: running
PROGRESS MESSAGE: downloading emails
PROGRESS: Importing 50.0% of 10 
PROGRESS: Importing 100.0% of 10 
PROGRESS MESSAGE: merging duplicate items
PROGRESS MESSAGE: creating accounts
PROGRESS MESSAGE: creating threads
Finished running GmailImporter (#None)
RUN STATUS: done
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Parse-emails">Parse emails<a class="anchor-link" href="#Parse-emails"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">Message-id: 1234</span><span class="se">\r</span><span class="s2"></span>
<span class="s2">From: user1 &lt;a@gmail.com&gt;</span><span class="se">\r</span><span class="s2"></span>
<span class="s2">To: user1 &lt;b@gmail.com&gt;</span><span class="se">\r</span><span class="s2"></span>
<span class="s2">Reply-to: user1 &lt;c@gmail.com&gt;</span><span class="se">\r</span><span class="s2"></span>
<span class="s2">Subject: the subject</span><span class="se">\r</span><span class="s2"></span>
<span class="s2">Date: Mon, 04 May 2020 00:37:44 -0700</span><span class="se">\r</span><span class="s2"></span>

<span class="s2">This is content&quot;&quot;&quot;</span>

<span class="n">email_importer</span> <span class="o">=</span> <span class="n">EmailImporter</span><span class="p">()</span>
<span class="n">mail_item</span> <span class="o">=</span> <span class="n">email_importer</span><span class="o">.</span><span class="n">create_item_from_mail</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="s1">&#39;message_channel_id&#39;</span><span class="p">)</span>

<span class="k">assert</span> <span class="n">mail_item</span><span class="o">.</span><span class="n">externalId</span> <span class="o">==</span> <span class="s1">&#39;1234&#39;</span>
<span class="k">assert</span> <span class="n">mail_item</span><span class="o">.</span><span class="n">sender</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">externalId</span> <span class="o">==</span> <span class="s1">&#39;a@gmail.com&#39;</span>
<span class="k">assert</span> <span class="n">mail_item</span><span class="o">.</span><span class="n">receiver</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">externalId</span> <span class="o">==</span> <span class="s1">&#39;b@gmail.com&#39;</span>
<span class="k">assert</span> <span class="n">mail_item</span><span class="o">.</span><span class="n">replyTo</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">externalId</span> <span class="o">==</span> <span class="s1">&#39;c@gmail.com&#39;</span>
<span class="k">assert</span> <span class="n">mail_item</span><span class="o">.</span><span class="n">subject</span> <span class="o">==</span> <span class="s1">&#39;the subject&#39;</span>
<span class="k">assert</span> <span class="n">mail_item</span><span class="o">.</span><span class="n">content</span> <span class="o">==</span> <span class="s1">&#39;This is content&#39;</span>
<span class="k">assert</span> <span class="n">mail_item</span><span class="o">.</span><span class="n">dateSent</span> <span class="o">==</span> <span class="n">email_importer</span><span class="o">.</span><span class="n">get_timestamp_from_message</span><span class="p">(</span><span class="n">email</span><span class="o">.</span><span class="n">message_from_bytes</span><span class="p">(</span><span class="n">test</span><span class="p">))</span>
<span class="k">assert</span> <span class="n">mail_item</span><span class="o">.</span><span class="n">messageChannel</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">externalId</span> <span class="o">==</span> <span class="s1">&#39;message_channel_id&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Attachments">Attachments<a class="anchor-link" href="#Attachments"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">email_importer</span> <span class="o">=</span> <span class="n">EmailImporter</span><span class="p">()</span>
<span class="n">message</span> <span class="o">=</span> <span class="n">email</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">EmailMessage</span><span class="p">()</span>
<span class="n">message</span><span class="o">.</span><span class="n">set_content</span><span class="p">(</span><span class="s1">&#39;aa&#39;</span><span class="p">)</span>
<span class="n">message</span><span class="o">.</span><span class="n">add_attachment</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;bb&#39;</span><span class="p">,</span> <span class="n">maintype</span><span class="o">=</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="n">subtype</span><span class="o">=</span><span class="s1">&#39;jpeg&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;sample.jpg&#39;</span><span class="p">)</span>
<span class="n">message</span><span class="o">.</span><span class="n">add_attachment</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;cc&#39;</span><span class="p">,</span> <span class="n">maintype</span><span class="o">=</span><span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="n">subtype</span><span class="o">=</span><span class="s1">&#39;jpeg&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;sample2.jpg&#39;</span><span class="p">)</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">email_importer</span><span class="o">.</span><span class="n">get_content</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<span class="n">attachments</span> <span class="o">=</span> <span class="n">email_importer</span><span class="o">.</span><span class="n">get_attachments</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">assert</span> <span class="n">content</span> <span class="o">==</span> <span class="s1">&#39;aa</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="k">assert</span> <span class="n">attachments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_content</span><span class="p">()</span> <span class="o">==</span> <span class="sa">b</span><span class="s1">&#39;bb&#39;</span>
<span class="k">assert</span> <span class="n">attachments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_content</span><span class="p">()</span> <span class="o">==</span> <span class="sa">b</span><span class="s1">&#39;cc&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Calling-the-importer-from-the-pod">Calling the importer from the pod<a class="anchor-link" href="#Calling-the-importer-from-the-pod"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># This cell is meant to be able to call the importer locally (simulating the front-end)</span>

<span class="n">pod_client</span> <span class="o">=</span> <span class="n">PodClient</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;http://0.0.0.0:3030&#39;</span><span class="p">)</span>
<span class="n">pod_client</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">importer_run</span><span class="p">)</span>
<span class="n">pod_client</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">importer</span><span class="p">)</span>
<span class="n">pod_client</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">host_item</span><span class="p">)</span>
<span class="n">pod_client</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">port_item</span><span class="p">)</span>
<span class="n">pod_client</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">max_number_item</span><span class="p">)</span>
<span class="n">pod_client</span><span class="o">.</span><span class="n">create_edges</span><span class="p">(</span><span class="n">importer_run</span><span class="o">.</span><span class="n">get_all_edges</span><span class="p">())</span>

<span class="n">json</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;databaseKey&#39;</span><span class="p">:</span><span class="n">pod_client</span><span class="o">.</span><span class="n">database_key</span><span class="p">,</span>
            <span class="s1">&#39;payload&#39;</span><span class="p">:{</span>
                 <span class="s1">&#39;uid&#39;</span><span class="p">:</span><span class="n">importer_run</span><span class="o">.</span><span class="n">uid</span><span class="p">,</span>
                 <span class="s1">&#39;servicePayload&#39;</span><span class="p">:</span> <span class="p">{</span>
                     <span class="s1">&#39;databaseKey&#39;</span><span class="p">:</span><span class="n">pod_client</span><span class="o">.</span><span class="n">database_key</span><span class="p">,</span>
                     <span class="s1">&#39;ownerKey&#39;</span><span class="p">:</span><span class="n">pod_client</span><span class="o">.</span><span class="n">owner_key</span>
                 <span class="p">}</span>
            <span class="p">}</span>
       <span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">importer_run</span><span class="o">.</span><span class="n">uid</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;http://0.0.0.0:3030/v2/</span><span class="si">{</span><span class="n">pod_client</span><span class="o">.</span><span class="n">owner_key</span><span class="si">}</span><span class="s1">/run_importer&#39;</span><span class="p">,</span>
                   <span class="n">json</span><span class="o">=</span><span class="n">json</span><span class="p">)</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>UsageError: Line magic function `%nbdev_slow_test` not found.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

